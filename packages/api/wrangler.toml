name = "convovault-api"
main = "src/index.ts"
compatibility_date = "2024-12-18"
compatibility_flags = ["nodejs_compat"]

[vars]
# Non-secret environment variables
ENVIRONMENT = "development"

# Required secrets (set via `wrangler secret put <NAME>`):
# - ADMIN_API_KEY: API key for admin operations (import/delete chats)
# - CF_ACCOUNT_ID: Cloudflare account ID for Browser Rendering API
# - CF_API_TOKEN: Cloudflare API token with Browser Rendering permissions

# Observability / Logging
[observability.logs]
enabled = true
head_sampling_rate = 1
invocation_logs = true

# D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "convovault-db"
database_id = "38085228-fb47-40aa-a732-793a3744bc75"
